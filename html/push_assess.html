<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <title>发表评价</title>
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
    <meta name="viewport" content="width=device-width, initial-scale=0.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="telephone=no" />
    <link rel="stylesheet" href="../css/common/reset.css">
    <link rel="stylesheet" href="../css/common/headerSearch.css">
    <link rel="stylesheet" href="../css/common/module.css">
    <link rel="stylesheet" href="../css/push_assess.css">
    <link rel="ShortCut Icon" href="../favicon.ico" />
</head>

<body>
    <!-- ********************* header ********************** -->
    <header class="header">
        <div class="h_left">
            <a href="#" onclick="javascript:window.history.go(-1);window.location.reload()" class="return" style="background: url(../images/common/return.png) no-repeat;background-size:contain;"></a>
        </div>
        <div class="h_center">发表评价</div>
        <div class="h_right"></div>
    </header>
    <div style="height:44px;"></div>
    <!-- ********************* content-list ********************** -->
    <div class="module">
        <ul>
            <li class="clearfix">
                <span>商品名称</span>
            </li>
            <li>
                <div class="room-list clearfix">
                    <div class="room-list-left">
                        <img src="../images/order/banner1.jpg" alt="" />
                    </div>
                    <div class="room-list-center">
                        <h3>东戴河温馨公寓</h3>
                        <ul>
                            <li>
                                <p>9.0分</p>
                                <p>469条评论</p>
                            </li>
                            <li>
                                <p>一室一厅</p>
                                <p>清新花园</p>
                            </li>
                        </ul>
                    </div>
                    <div class="room-list-right">
                        <div class="room-price">￥92</div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <form action="" method="post">
        <div class="module">
            <textarea name="assess" placeholder="请输入评价"></textarea>
        </div>
        <div class="module">
            <div class="imgContent">
                <span class="file"></span>
                <input type="file">
            </div>
        </div>
        <div class="module left">
            <div id="roomStar">
                <span>入住环境：</span>
                <span class="star"></span>
                <input type="radio" name="roomStar" value="1">
                <span class="star"></span>
                <input type="radio" name="roomStar" value="2">
                <span class="star"></span>
                <input type="radio" name="roomStar" value="3">
                <span class="star"></span>
                <input type="radio" name="roomStar" value="4">
                <span class="star"></span>
                <input type="radio" name="roomStar" value="5">
            </div>
            <div id="serveStar">
                <span>服务态度：</span>
                <span class="star"></span>
                <input type="radio" name="serveStar" value="1">
                <span class="star"></span>
                <input type="radio" name="serveStar" value="2">
                <span class="star"></span>
                <input type="radio" name="serveStar" value="3">
                <span class="star"></span>
                <input type="radio" name="serveStar" value="4">
                <span class="star"></span>
                <input type="radio" name="serveStar" value="5">
                <input type="submit" value="发表评价">
            </div>
        </div>
    </form>
    <script src="../lib/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function(){
            // variable
            var roomStarBtn = $('input:radio[name="roomStar"]'),
                serveStarBtn = $('input:radio[name="serveStar"]');
            var RoomStarLength = $('#roomStar').find('.star').length,
                RoomStar = $('#roomStar').find('.star'),
                RoomStarBox = [];
            var ServeStarLength = $('#serveStar').find('.star').length,
                ServeStar = $('#serveStar').find('.star'),
                ServeStarBox = [];
            // 获取星星总个数放入数组 
            for(i = 0;i<RoomStarLength;i++){
                RoomStarBox.push(RoomStar[i]);
            }
            for(j = 0;j<RoomStarLength;j++){
                ServeStarBox.push(ServeStar[j]);
            }
            // API 
            function main () {
                starShow(roomStarBtn,RoomStarBox);
                starShow(serveStarBtn,ServeStarBox);
            }
            // starShow mixin
            function starShow (btnDom,starBox) {
                var par;
                btnDom.on('click',function(par){
                    //移除所有饱和星星
                    for(i=0;i<5;i++){
                        $(starBox[i]).removeClass('starL');
                    }
                    //获取当前input的val 
                    par = $(this).val();
                    //判断val值给星星加类
                    if (par == 1) {
                        $(starBox[0]).addClass('starL');
                    }
                    else if (par == 2) {
                        for(i=0;i<2;i++){
                            $(starBox[i]).addClass('starL');
                        }
                    }
                    else if (par == 3) {
                        for(i=0;i<3;i++){
                            $(starBox[i]).addClass('starL');
                        }
                    }
                    else if (par == 4) {
                        for(i=0;i<4;i++){
                            $(starBox[i]).addClass('starL');
                        }
                    }
                    else if (par == 5) {
                        for(i=0;i<5;i++){
                            $(starBox[i]).addClass('starL');
                        }
                    }
                })
            }
            // entry function
            main();
        })
    </script>
</body>

</html>
